<div class="container">
  <header>
    <h1>TimeOpti</h1>
    <div #userButton></div>
    <button *ngIf="!clerkService.user" (click)="clerkService.signIn()">Sign In</button>
  </header>
  <main>
    <div class="backend-status">
      <p>Backend Status: {{ backendMessage }}</p>
    </div>

    <div class="ai-demo" *ngIf="clerkService.user">
      <h2>AI Agenda Optimizer</h2>
      <textarea [(ngModel)]="tasksInput" rows="5" placeholder="Enter tasks..."></textarea>
      <div class="button-group">
        <button (click)="optimizeAgenda()" [disabled]="isLoadingAI">Optimize Agenda</button>
        <button (click)="analyzePriorities()" [disabled]="isLoadingAI">Analyze Priorities</button>
      </div>

      <div *ngIf="optimizedResult" class="result">
        <h3>Optimized Schedule:</h3>
        <pre>{{ optimizedResult }}</pre>
      </div>
    </div>

    <router-outlet></router-outlet>
  </main>
</div>