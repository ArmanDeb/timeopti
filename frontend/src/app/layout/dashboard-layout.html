<div class="flex h-screen bg-gray-900 text-gray-200 font-sans overflow-hidden">

    <!-- Top Header (Minimalist) -->
    <header
        class="fixed top-0 left-0 right-0 h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-50">
        <!-- Left: Logo & Navigation -->
        <div class="flex items-center gap-2 lg:gap-3 min-w-[240px]">
            <!-- Sidebar Toggle Removed as Sidebar is gone -->
            <!-- <button (click)="toggleSidebar()" class="p-3 rounded-full hover:bg-gray-800 text-gray-500 hover:text-gray-200">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                    </path>
                </svg>
            </button> -->

            <div class="flex items-center gap-2 mr-2">
                <div class="w-8 h-8 flex items-center justify-center bg-primary/20 rounded text-primary">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                    </svg>
                </div>
                <span class="text-2xl font-normal text-gray-200 hidden sm:block tracking-tight">TimeOpti</span>
            </div>
        </div>

        <!-- Center: Date Navigation -->
        <div class="flex items-center gap-4 flex-1 ml-4">
             <button (click)="goToToday()"
                class="border border-gray-700 rounded px-4 py-1.5 text-sm font-medium hover:bg-gray-800 transition-colors text-gray-200">
                Today
            </button>

            <div class="flex items-center gap-1">
                <button (click)="previousPeriod()" class="p-2 rounded-full hover:bg-gray-800 text-gray-400 hover:text-gray-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                        </path>
                    </svg>
                </button>
                <button (click)="nextPeriod()" class="p-2 rounded-full hover:bg-gray-800 text-gray-400 hover:text-gray-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>

            <h2 class="text-xl font-normal text-gray-200 ml-2 hidden md:block">
                {{ viewService.currentDate() | date:'MMMM yyyy' }}
            </h2>
        </div>

        <!-- Right: Tools & Profile -->
        <div class="flex items-center gap-2 lg:gap-3">
            
            <div (click)="toggleViewMode()"
                class="border border-gray-700 rounded px-3 py-1.5 text-sm font-medium hover:bg-gray-800 cursor-pointer flex items-center gap-2 min-w-[80px] justify-between select-none">
                <span>{{ viewService.viewMode() }}</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>

            <div class="ml-2">
                <div #userButton></div> <!-- Clerk User Button -->
            </div>
        </div>
    </header>

    <!-- Main Layout Container -->
    <div class="flex flex-1 pt-16 w-full">

        <!-- Sidebar Removed as requested -->
        <!-- <aside class="bg-gray-900 w-64 flex-shrink-0 flex flex-col transition-all duration-300 pr-4"
            [class.hidden]="!isSidebarOpen">
            ... content removed ...
        </aside> -->

        <!-- Main Content (Router Outlet) -->
        <!-- Removed rounded corners and borders to make it full screen seamless -->
        <main class="flex-1 overflow-hidden bg-gray-900 relative mt-2">
            <router-outlet></router-outlet>
        </main>

    </div>
</div>
